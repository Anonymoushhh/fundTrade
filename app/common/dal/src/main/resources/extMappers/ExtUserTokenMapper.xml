<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sdu.fund.common.dal.extMapper.ExtUserTokenMapper">
  <resultMap id="BaseResultMap" type="com.sdu.fund.common.dal.entity.UserDo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Feb 14 19:49:07 CST 2020.
    -->
    <id column="user_id" jdbcType="BIGINT" property="userId" />
    <result column="open_id" jdbcType="VARCHAR" property="openId" />
    <result column="nick_name" jdbcType="VARCHAR" property="nickName" />
    <result column="gender" jdbcType="INTEGER" property="gender" />
    <result column="city" jdbcType="VARCHAR" property="city" />
    <result column="province" jdbcType="VARCHAR" property="province" />
    <result column="country" jdbcType="VARCHAR" property="country" />
    <result column="authority" jdbcType="VARCHAR" property="authority" />
    <result column="status" jdbcType="INTEGER" property="status" />
    <result column="gmt_create" jdbcType="TIMESTAMP" property="gmtCreate" />
    <result column="gmt_modified" jdbcType="TIMESTAMP" property="gmtModified" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Feb 14 19:49:07 CST 2020.
    -->
    user_id, open_id, nick_name, gender, city, province, country, authority, status, 
    gmt_create, gmt_modified
  </sql>
  <select id="selectUserIdByToken" parameterType="java.lang.String" resultType="java.lang.Long">
    select 
    user_id
    from user_token
    where token = #{token,jdbcType=VARCHAR}
  </select>

</mapper>